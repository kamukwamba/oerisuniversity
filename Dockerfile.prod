# Use a base image with GCC and SQLite dev libraries
FROM golang:1.20

# Install build dependencies
RUN apt-get update && apt-get install -y gcc libsqlite3-dev

# Set environment variables
ENV CGO_ENABLED=1
ENV GOOS=linux
ENV GOARCH=amd64

# Copy and build your application
WORKDIR /app
COPY . .
RUN go build -o main .

# Run the application
CMD ["./main"]
