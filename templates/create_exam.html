<!DOCTYPE html>
<html lang="en">
<head>
  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/assets/css/cource_data.css">
    <script src="/assets/htmx.js"></script>
	{{ template "head_temp"}}
    
    <title>Create Exam</title>

    <style>
        
        .question_div_one{
            width: 100%;
            height: 400px;
            border: solid 1px rgb(32, 0, 62);
            
        }
		
		.leftDiv{
			width: 60%;
			height: 100vh;
			display: inline;
		}
		
		.rightDiv{
			width: 40%;
			height: 100vh;
			display: inline;
			overflow-y: auto;
			padding-bottom: 30px;
		
		}
		
		.mainQuestionDiv{
			width: 100%;
			min-height: 100vh;
			overflow-y: auto;
			display: flex;
			background: "rad";
		
		}

    </style>
</head>




<body>
    <h3 class="h3_heading" style="text-decoration: none;">{{ .CourceNameFm}}</h3>
	
    <div class="questions">

        {{ if .Present }}

        <div class="mainQuestionDiv" >
            <div id="question_list" class="leftDiv">
                {{range .ExamData}}
                    {{ if .Section "A"}}
                        {{ template "question_section_a" .}}
                    {{ else }}

                        {{template "question_section_a" .}}
                    {{ end }}

                {{ end }}
                

            </div>
            
        
            <div class="rightDiv">
                <div id="sectionAID">
                    {{ template "sectionACreate" }}
                </div>
                <!-- SECTION B QUESTIONS -->
                <div id="sectionBID">
                {{ template "sectionBCreate"}}
                </div>
                <!-- EXAM FINE DETAILS  -->

                <form>

                    <input type="text" name="program_name" id="" style="padding: 5px; width: 100%; height: 30px; border:solid 1px rgb(32, 0, 62); padding-inline: 5px; margin: 5px;" placeholder="Program Name">

                    <input type="text" name="cource_name" id="" style="padding: 5px; width: 100%; height: 30px; border:solid 1px rgb(32, 0, 62); padding-inline: 5px; margin: 5px;" placeholder="Cource Name">

                    <input type="text" name="cource_code" id="" style="padding: 5px; width: 100%; height: 30px; border:solid 1px rgb(32, 0, 62); padding-inline: 5px; margin: 5px;" placeholder="Cource Code">

                    <input type="text" name="exam_time" id="" style="padding: 5px; width: 100%; height: 30px; border:solid 1px rgb(32, 0, 62); padding-inline: 5px; margin: 5px;" placeholder="Enter time in minutes">

                    

                    <input type="text" name="total_marks" id="" style="padding: 5px; width: 100%; height: 30px; border:solid 1px rgb(32, 0, 62); padding-inline: 5px; margin: 5px;" placeholder="Total Marks"><br>

                    <button hx-post="/examdetails?program_name={{ .Cource_Data.Program_Name}}&cource_name={{ .Cource_Data.Cource_Name}}&uuid={{.Cource_Data.UUID}}&section=save"
                    hx-target="#details_saved"
                    hx-swap="innerHTML" type="submit" class="create_button">Save Details</button>
                    <button hx-post="/examdetails?program_name={{ .Cource_Data.Program_Name}}&cource_name={{ .Cource_Data.Cource_Name}}&uuid={{.Cource_Data.UUID}}&section=update"
                    hx-target="#details_saved"
                    hx-swap="innerHTML" type="submit" class="create_button">Update Details</button>


                </form>
            </div>

        
        </div>



        {{ else }}
        <div class="mainQuestionDiv" >
            <div id="question_list" class="leftDiv">
                

            </div>
            
        
            <div class="rightDiv">
                <div id="sectionAID">
                    {{ template "sectionACreate"}}
                </div>
            <!-- SECTION B QUESTIONS -->
                <div id="sectionBID">
                    {{ template "sectionBCreate"}}
                </div>

            <!-- EXAM FINE DETAILS  -->

           

            <form>

                <input type="text" name="program_name" id="" style="padding: 5px; width: 100%; height: 30px; border:solid 1px rgb(32, 0, 62); padding-inline: 5px; margin: 5px;" placeholder="Program Name">

                <input type="text" name="cource_name" id="" style="padding: 5px; width: 100%; height: 30px; border:solid 1px rgb(32, 0, 62); padding-inline: 5px; margin: 5px;" placeholder="Cource Name">

                <input type="text" name="cource_code" id="" style="padding: 5px; width: 100%; height: 30px; border:solid 1px rgb(32, 0, 62); padding-inline: 5px; margin: 5px;" placeholder="Cource Code">

                <input type="text" name="exam_time" id="" style="padding: 5px; width: 100%; height: 30px; border:solid 1px rgb(32, 0, 62); padding-inline: 5px; margin: 5px;" placeholder="Enter time in minutes">

                

                <input type="text" name="total_marks" id="" style="padding: 5px; width: 100%; height: 30px; border:solid 1px rgb(32, 0, 62); padding-inline: 5px; margin: 5px;" placeholder="Total Marks"><br>

                <button hx-post="/examdetails?program_name={{ .Cource_Data.Program_Name}}&cource_name={{ .Cource_Data.Cource_Name}}&uuid={{.Cource_Data.UUID}}&section=save"
                hx-target="#details_saved"
                hx-swap="innerHTML" type="submit" class="create_button">Save Details</button>
                <button hx-post="/examdetails?program_name={{ .Cource_Data.Program_Name}}&cource_name={{ .Cource_Data.Cource_Name}}&uuid={{.Cource_Data.UUID}}&section=update"
                hx-target="#details_saved"
                hx-swap="innerHTML" type="submit" class="create_button">Update Details</button>


            </form>
            </div>

        
        </div>


        {{ end }}
        
    </div>
    
</body>



</html>




{{ define "details_saved_temp"}}
<p id="cource_data_present" style="text-align: center; width: 100%; color: white; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-weight: lighter; font-size: 1.2em;" >{{ .Details_Messages}}</p>
{{ end }}



{{ define "sectionACreate"}}
    <form hx-post="/addexam?program_name={{ .Cource_Data.Program_Name}}&cource_name={{ .Cource_Data.Cource_Name}}&uuid={{.Cource_Data.UUID}}&section=A"
                    hx-target="#question_list"
                    hx-swap="beforeend">

                <div style="background-color: rgb(32, 0, 62); padding: 5px; margin-bottom:5px;">
                    <label for="answer"  class="compose" style=" color: white;">Section A</label><br>
                </div>
                <textarea type="text" class="question_div_one" style="font-size: 1em; padding:5px;" name="question_a" id="" >Enter section A questions one at a time.
                
                    
                </textarea><br>

                <h4>Enter Answer</h4>
                <label for="A" style="display: inline;">True</label>
                <input type="radio" id="A" name="answer" value="true" class="radio_btn" style="height:20px; width:20px; vertical-align: middle;">
                <label for="B" style="display: inline;">False</label>
                <input type="radio" id="B" name="answer" value="false" class="radio_btn" style="height:20px; width:20px; vertical-align: middle;"><br>


                <button type="submit" class="create_button" style="margin-top: 5px;">Save</button>
            </form>

{{ end }}

{{ define  "sectionBCreate"}}

    <form hx-post="/addexam?program_name={{ .Cource_Data.Program_Name}}&cource_name={{ .Cource_Data.Cource_Name}}&uuid={{ .Cource_Data.UUID}}&section=B"
            hx-target="#question_list"
            hx-swap="beforeend">
                <div style="background-color: rgb(32, 0, 62); padding: 5px; margin-bottom:5px;">
                    <label for="answer"  class="compose" style=" color: white;">Section B</label><br>
                </div>
                <textarea name="question_b" id="questionSectionB" class="question_div_one" style="font-size: 1em; padding:5px;">Enter section B qustion here  one at a time.
                </textarea>

                <button type="submit" class="create_button">Save</button>


    </form>
{{ end }}





{{ define "sectionAUpdate"}}
    
    <form hx-post="/saveUpdateQuestion?&uuid={{.UUID}}&section=A"
                    hx-target="#question_list"
                    hx-swap="outerHTML">

                <div style="background-color: rgb(32, 0, 62); padding: 5px; margin-bottom:5px;">
                    <label for="answer"  class="compose" style=" color: white;">Section A</label><br>
                </div>
                <textarea type="text" class="question_div_one" style="font-size: 1em; padding:5px;" name="question_a" id="" >{{ .Question}}
                
                    
                </textarea><br>

                <h4>Enter Answer</h4>
                <label for="A" style="display: inline;">True</label>
                <input type="radio" id="A" name="answer" value="true" class="radio_btn" style="height:20px; width:20px; vertical-align: middle;">
                <label for="B" style="display: inline;">False</label>
                <input type="radio" id="B" name="answer" value="false" class="radio_btn" style="height:20px; width:20px; vertical-align: middle;"><br>


                <button type="submit" class="create_button" style="margin-top: 5px;">Save</button>
            </form>

{{ end }}


{{ define "sectionBUpate"}}

    <form hx-post="/saveUpdateQuestion?uuid={{ .UUID}}&section=B"
            hx-target="#id{{ .UUID}}"
            hx-swap="outerHTML">
                <div style="background-color: rgb(32, 0, 62); padding: 5px; margin-bottom:5px;">
                    <label for="answer"  class="compose" style=" color: white;">Section B</label><br>
                </div>
                <textarea name="question_b" id="questionSectionB" class="question_div_one" style="font-size: 1em; padding:5px;">
                    {{ .Question }}
                </textarea>

                <button type="submit" class="create_button">Update Question</button>


    </form>
{{ end }}








{{ define "question_saved"}}
    <div class="edit_question">
        <button class="create_button">Update</button>
        <button class="delete_button">Delete</button>
    </div>


{{ end }}

{{ define "question_section_b"}}
    
    <div class="question" id="id{{.UUID}}">
        <div class="edit_question">
            <button hx-get="updatequestion?qustion_uuid={{.Question_UUID}}" hx-target="#questionSectionA" hx-swap="innerHTML" class="update">Update</button>
            <button class="delete" hx-get="deletequestion?qustion_uuid={{.Question_UUID}}" hx-target="#id{{.Question_UUID}}" hx-swap="outerHTML"  >Delete</button>
        </div>
        <div>
             <p>{{ .Question}}</p>
        </div>
    </div>
    
  
{{ end }}


{{ define "question_section_a"}}
    
    <div class="question" id="id{{.UUID}}">
        <div class="edit_question">
            <button hx-get="updatequestion?qustion_uuid={{.Question_UUID}}" hx-target="#questionSectionA" hx-swap="innerHTML" class="update">Update</button>
            <button class="delete" hx-get="deletequestion?qustion_uuid={{.Question_UUID}}" hx-target="#id{{.Question_UUID}}" hx-swap="outerHTML">Delete</button>
        </div>
        <div>
            <p>{{.Question}}</p>
            <p>Answer: {{.Answer}}</p>

        </div>
    </div>
    
  
{{ end }}


{{ define "empty_div_none"}}

    <div style="display: none;">
    </div>

{{ end }}